/* CSS Document */

/** Variables and mixins **/

$light-text: #fcfcfc;
$dark-text: #353535;
$primary: #9A0002;
$secondary: #3D5D21;
$overlay: transparent;
$banner-border: #7C9341;
$logo-text: $light-text;
$logo-text-hover: #ecf7ed;
$navbar: #425218;
$navbar-item: #4E5D27;
$navbar-hover: #35430F;
$navbar-active: #2A3808;
$navbar-border: #7C9341;
$flash-success: #657C3B;
$flash-warning: #D97109;
$flash-error: #D92E2E;

$container-background: transparent;
$container-dark-background: #2E4000;
$button-border: #4C8E13;
$button-background: transparent;
$button-text: #4F6513;
$button-hover: #3B4D0A;
$button-hover-text: $light-text;
$button-dark-border: $light-text;
$button-dark-background: transparent;
$button-dark-text: $light-text;
$button-dark-hover: $light-text;
$button-dark-hover-text: #4F6513;
$button-highlight-background: #5C7A0D;

$timeline: #496600;
$timeline-text: #627E2D;
$keyword: #729519;
$footer-top-background: #2E3400;
$footer-bottom-background: #242222;

/** Text **/

body {
    margin: 0;
}

body,
p {
    font-family: 'Quasimoda', sans-serif;
    font-size: 2.75vh;
    font-weight: 300;
    color: $dark-text;

    &.large {
        font-size: 1.1em;
    }

    &.small {
        font-size: 0.8em;
    }

}

span.keyword {
    color: $keyword;
    font-weight: 500;
}

a {
    text-decoration: none;
    color: dodgerblue;

    &:hover {
        color: deepskyblue;
    }
}

h1,
h2,
h3,
h4 {
    font-family: rooney-sans, sans-serif;
    font-weight: 700;
    color: $primary;
}

h1 {
    font-size: 2.75em;
}

h2 {
    font-size: 2.25em;
}

/** Layout **/

.hidden {
    display: none;
}

main, .main {
    margin: 0;
    padding: 0 2em 0 2.25em;
}

hr {
    margin: 2em 0;
    border: 1px dashed $light-text;
}

.flex {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@media screen and (min-width:750px) {
    main, .main {
        margin: auto;
        max-width: 850px;
    }
}

/** Logo **/

.logo {
    margin: 0;
    padding: 1em 0.75em 0.5em 0.75em;
    font-family: jaf-domus-titling-web, sans-serif;
    font-weight: 600;
    line-height: 1.15;
    font-size: 3em;
    color: $logo-text;
    text-shadow: 0 6px 6px #4f832863;

    a {
        color: $logo-text;
        transition: color 250ms;
    
        &:hover {
            color: $logo-text-hover;
        }
    }
}

.logo-tagline {
    margin: 0;
    padding: 0.2em 1em;
    font-family: jaf-domus-titling-web, sans-serif;
    font-weight: 500;
    line-height: 1.15;
    font-size: 2em;
    color: $logo-text;
    text-shadow: 0 6px 6px #4f832863;
}

@media screen and (min-width: 750px)
{
    .logo {
        font-size: 2.5em;
        padding-top: 1.5em;
        padding-bottom: 1em;
    }

    .logo-tagline {
        font-size: 1.5em;
    }
}

/** Header **/

header {
    margin: 0 0 3em 0;
}

.navbar-outer {
    text-align: right;
    flex-wrap: wrap;
}

.menu-toggle {
    margin: 0 1em 1em 0.5em;
    height: 1em;
    cursor: pointer;
    transition: opacity 1s;

    &:hover {
        opacity: 0.7;
    }
}

.navbar {
    background-color: $navbar;
    border-top: 1px solid $navbar-border;
    text-align: center;
    display: none;
    flex-basis: 100%;

    ul {
        margin: 0;
        padding: 0;
        float: none;
        list-style-type: none;
    }

    /* Create a separator aligned perfectly, by using an outer item for height,
    but an inner item for width */
    .nav-item {
        padding: 0.6em 0;

        &:nth-child(odd) {
            background-color: $navbar-item;
        }

        a {
            font-size: 1.1em;
            display: block;
            color: $light-text;
            padding: 0 0.6em;
        }

        &:hover {
            background-color: $navbar-hover;
        }

        &.active {
            background-color: $navbar-active;
        }
    }
}

.navbar-sticky {
    will-change: transform;
    text-align: center;
    background-color: $navbar;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    display: none;

    .logo {
        font-size: 1.75em;
        padding: 0.5em 0 0.7em;
    }
}

#toggle {
    display: none;

    &:checked ~ .navbar {
        display: block;
    }
}

.banner-image {
    border-bottom: 4px solid $banner-border;
    background-repeat: no-repeat;
    background-size: 100%;
    background-image: url(<%= asset_path 'banner.png' %>);
}

.banner-overlay {
    background-color: $overlay;
}

@media screen and (min-width:750px)
{
    header {
        margin-bottom: 3em;
    }

    .banner-image {
        background-size: cover;
    }

    .menu-toggle {
        display: none;
    }

    .navbar-outer {
        display: flex;
    }

    .navbar {
        display: block;
        padding-top: 4px;

        .nav-item, .nav-item:nth-child(odd) {
            float: left;
            width: 8em;
            background-color: $navbar;

            a {
                border-right: 1px solid $light-text;
            }

            &:hover {
                background-color: $navbar;
                border-top: 4px solid #c0c0c0;
                margin-top: -4px;
            }
             &.active {
                background-color: $navbar;
                border-top: 4px solid $light-text;
                margin-top: -4px;
            }
        }
    }
}

/** Flash **/

.flash-container {
    margin: 0 1em;
}

.flash, .flash-success, .flash-warning {
    margin: 0 0.5em;
    padding: 0.5em 1em;
    text-align: center;
    background-color: $flash-success;
    border-radius: 4em;

    p {
        color: $light-text;
    }

}

.flash-warning {
    background-color: $flash-warning;
}

.flash-error {
    background-color: $flash-error;
}

@media screen and (min-width:750px)
{
    .flash-container {
        padding: 0 15%;
        margin: auto;
        max-width: 850px;
    }
}

/** Buttons **/

.button-container {
    padding: 2.5em 0;
    text-align: center;
}

.button-fixed-container, .button-fixed-container-dark {
    margin: 3.5em -2em 1.5em -2.25em;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: $container-background;
}

.button-fixed-container-dark {
    margin: 5em -2em 4em -2.25em;
    padding: 5.5em 0 4em 0;
    background: $container-dark-background;

    .button-fixed {
        border-color: $button-dark-border;
        background-color: $button-dark-background;
        color: $button-dark-text;
        transition: color 1s, background-color 1s;

        &:hover {
            color: $button-dark-hover-text;
            background-color: $button-dark-hover;
        }
    }

    .highlight-button {
        background-color: $button-highlight-background;
    }
}

.resume-button-container {
    margin: 1.5em 0;
}
.resume-button-text {
    margin-top: 3em;
}

.button,
.button-fixed {
    padding: 1.4em 2em;
    border: 2px solid $button-border;
    border-radius: 50px;
    background-color: $button-background;
    font-family: 'rooney-sans', sans-serif;
    font-weight: 500;
    font-size: 0.9em;
    text-decoration: none;
    color: $button-text;
    text-transform: uppercase;
    text-align: center;
    transition: color 1s, background-color 1s;

    .icon {
        padding-left: 1.5em;
        transition: padding-left 1s;
    }

    &:hover {
        color: $button-hover-text;
        background-color: $button-hover;

        .icon {
            padding-left: 2em;
        }
    }
}

.button-fixed {
    display: inline-block;
    padding: 1.4em 0;
    margin-bottom: 1.5em;
    width: 15em;
    max-width: 75%;

    &.button-wide {
        width: 18em;
    }
}

.highlight-button {
    background-color: $button-highlight-background;
}

@media screen and (min-width: 850px) {
    .button-fixed-container, .button-fixed-container-dark {
        margin-left: calc(-50vw + 400px);
        margin-right: calc(-50vw + 400px);
    }
}

/** Timeline **/

.dot,
.dot-small,
.dot-beginning,
.dot-end {
    margin-left: 0.05em;
    margin-right: -0.25em;
    margin-bottom: -0.35em;
    display: inline-block;
    height: 1.15em;
    width: 1.15em;
    background-color: $timeline;
    border-radius: 50%;
}

.dot-small {
    margin-left: 0.2em;
    margin-right: 0;
    margin-bottom: -0.2em;
    height: 0.85em;
    width: 0.85em;
}

.dot-beginning {
    margin-left: -0.85em;
    margin-bottom: 2em;
    display: block;
    height: 1.5em;
    width: 1.5em;
}

.dot-end {
    margin-left: -0.85em;
    margin-top: 1.5em;
    display: block;
    height: 1.5em;
    width: 1.5em;
}

.timeline {
    margin-top: 3em;
    margin-left: 3em;
    border-left: 0.25em solid $timeline;
}

.timeline-item {

    > h2 {
        margin-left: 2em;
        text-indent: -5.5em;
        padding-right: 0.5em;
        color: $timeline-text;
        font-family: 'Quasimoda', sans-serif;
        font-size: 2.75vh;
        font-weight: 300;

        .timeline-year {
            padding-right: 0.4em;
            font-family: droid-sans-mono, monospace;
            font-weight: 400;
        }

        .timeline-heading {

            &:before {
                content: '⸻';
                font-size: 2vh;
            }
        }

    }

    > p {
        margin: 0.5em 0 0.5em 4em;
        text-indent: -1.4em;
        color: $timeline-text;
        font-family: 'Quasimoda', sans-serif;
        font-size: 2.25vh;
        font-weight: 300;

        &:before {
            content: '⸺';
            text-indent: 15px;
            font-size: 1.75vh;
        }
    }
}

/** Footer **/

footer {
    margin-top: 4em;

    .logo {
        padding: 0 1em;
        font-size: 2.5em;
    }

    .button-fixed-container-dark {
        margin: 0;
        padding: 3.5em 0 2em 0;
    }
}

.footer-top {
    padding: 3em 0.5em 2em 0.5em;
    background-color: $footer-top-background;
}

.footer-bottom {
    padding: 1em 2.5em;
    background-color: $footer-bottom-background;
}

.copyright {
    font-family: 'Quasimoda', sans-serif;
    font-weight: 300;
    font-size: 1em;
    color: $light-text;
}

@media screen and (min-width:750px) {

    footer {

        .button-fixed-container-dark {
            flex-direction: row;
            flex-wrap: wrap;
            padding-left: calc(50vw - 425px);
            padding-right: calc(50vw - 425px);
    
            a {
                flex-basis: 40%;
                margin: 1em auto;
            }
        }
    }

    .footer-top, .footer-bottom {
        padding-left: calc(50vw - 425px);
        padding-right: calc(50vw - 425px);
    }
    .footer-top {
        padding-bottom: 2.5em;
    }

    hr {
        margin-bottom: 20px;
    }

    .copyright {
        font-size: 0.8em;
        text-align: center;
    }
}